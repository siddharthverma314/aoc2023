&fras "inp/4"
# parse into win and have
⊃(°□⊏0|°□⊏1)≡(□∵°□)⍉⊜(⊜(□⊜⋕≠@ .)≠@|.↘+1⊗@:.)≠@\n.
W ←
X ←
# won cards num x bounds(2)
⍉[⊃(⊙;|+)]+1⇡⧻./+⍉≡(/↥⊞=)W X
# matrix won cards won x num
⍉≡(↧⊃(>⊏0|≤⊏1):)¤+1⇡⧻X
# count cards
/+∧(⊂⊃(∘;|+1/+▽↙:⊙(⧻.))):[]
